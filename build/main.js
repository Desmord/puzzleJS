"use strict";var _createClass=function(){function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var BackgroundAnimationManager=function(){function e(t){_classCallCheck(this,e),this.width=t.clientWidth,this.height=t.clientHeight,this.container=t,this.container.width=this.width,this.container.height=this.height,this.squares=[],this.containerGraphicContext=this.container.getContext("2d"),this.draw=this.draw.bind(this)}return _createClass(e,[{key:"setWidth",value:function(t){this.width=t}},{key:"setHeight",value:function(t){this.height=t}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"updateNumberSquare",value:function(){var t=Number.parseInt(this.getWidth()/200),e=[];t<2&&(t=2);for(var i=0;i<t;i++)e[i]={actualAngle:0,velocity:2*Math.random(),rotationSpeed:Number.parseFloat(1*Math.random()).toFixed(2),width:Number.parseInt(100*Math.random()),x:Math.random()*this.getWidth()+1,y:100,opacity:.25*Math.random()};this.squares=e}},{key:"clearElement",value:function(){this.containerGraphicContext.clearRect(0,0,this.getWidth(),this.getHeight()),this.containerGraphicContext.beginPath()}},{key:"updateSquaresVelocity",value:function(){this.squares=this.squares.map(function(t){return t.y-=t.velocity,t})}},{key:"drawSquares",value:function(){var e=this;this.squares.forEach(function(t){e.containerGraphicContext.beginPath(),e.containerGraphicContext.rect(t.x,t.y,t.width,t.width),e.containerGraphicContext.rotate(1*Math.PI/180),e.containerGraphicContext.fillStyle="rgba(255,255,255,"+t.opacity+")",e.containerGraphicContext.fill()})}},{key:"draw",value:function(){this.clearElement(),this.containerGraphicContext.beginPath(),this.containerGraphicContext.rect(this.squares[1].x,this.squares[1].y,this.squares[1].width,this.squares[1].width),this.containerGraphicContext.fillStyle="rgba(255,255,255,"+this.squares[1].opacity+")",this.containerGraphicContext.fill(),console.log(this.squares[1].rotationSpeed),console.log(this.squares[1].x),console.log("-----------------------------------------"),this.containerGraphicContext.beginPath(),this.containerGraphicContext.rotate(5*Math.PI/180);var t=Number.parseFloat(this.squares[1].x.toFixed(2)),e=Number.parseFloat(this.squares[1].y.toFixed(2)),i=t+(t-(t*Number.parseFloat(Math.cos(5*Math.PI/180))-e*Number.parseFloat(Math.sin(5*Math.PI/180))));this.containerGraphicContext.rect(i,this.squares[1].y,this.squares[1].width,this.squares[1].width),this.containerGraphicContext.fillStyle="rgba(255,255,255,"+this.squares[1].opacity+")",this.containerGraphicContext.fill()}},{key:"startAnimation",value:function(){this.updateNumberSquare(),window.requestAnimationFrame(this.draw)}}]),e}(),obiektProbny=new BackgroundAnimationManager(document.querySelector(".backgorundCanvas"));obiektProbny.startAnimation();